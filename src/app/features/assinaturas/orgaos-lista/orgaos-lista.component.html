<div class="card container mt-2 rounded-2 overflow-hidden m-auto fs-6">
  <div
    class="d-flex align-items-center gap-3 bg-blue-500 py-3 px-4 text-inverse"
  >
    <div class="bg-white bg-opacity-10 py-1 px-2 rounded d-inline-block">
      icone
    </div>
    <div>
      <h1 class="fs-3 fw-semibold text-inverse">Assinaturas - Órgãos</h1>
      <p class="fs-7 text-inverse-muted">Gerencie as assinaturas dos órgãos</p>
    </div>
  </div>

  <div class="row">
    <div class="d-flex py-3 px-4">
      <div class="d-flex gap-3 w-100 bg-blue w-100">
        <div class="input-group">
          <span class="input-group-text">
            <i class="bi bi-search"></i>
          </span>
          <input type="text" class="form-control" placeholder="Buscar..." />
        </div>
      </div>
    </div>

    <button class="btn btn-outline-primary bg-secondary">Limpar filtros</button>
  </div>
</div>

<div class="card container mt-4 m-auto fs-6 overflow-hidden">
  @defer (on viewport) {
    <table class="table table-hover mb-0">
      <thead>
        <tr>
          <th class="fw-semibold p-4 text-secondary">Razão Social</th>
          <th class="fw-semibold p-4 text-secondary">CNPJ</th>
          <th class="fw-semibold p-4 text-secondary">Plano</th>
          <th class="fw-semibold p-4 text-secondary">Vencimento</th>
          <th class="fw-semibold p-4 text-secondary">Status</th>
          <th class="fw-semibold p-4 text-secondary text-end">Ações</th>
        </tr>
      </thead>
      <tbody>
        @for (item of pedidosFiltrados(); track item.id) {
          <tr>
            <td class="p-4">{{ item.cnpj }}</td>
            <td class="p-4">{{ item.razaoSocial }}</td>
            <td class="p-4">{{ item.plano }}</td>
            <td class="p-4">{{ item.vencimento }}</td>
            <td class="p-4">
              <span class="badge fs-7 px-2 py-1 rounded-pill fw-semibold">
                {{ item.status }}
              </span>
            </td>
            <td class="text-center">
              <button [routerLink]="['detalhes', item.id]">
                <i-tabler name="eye" class="icon-button" />
                Detalhes
              </button>
            </td>
          </tr>
        } @empty {
          <tr>
            <td colspan="6" class="text-center p-5 text-muted">
              Nenhum pedido encontrado.
            </td>
          </tr>
        }
      </tbody>
    </table>
  } @placeholder (minimum 500ms) {
    <table class="table mb-0" aria-hidden="true">
      <thead>
        <tr>
          <th class="fw-semibold p-4 text-secondary">CNPJ</th>
          <th class="fw-semibold p-4 text-secondary">Razão Social</th>
          <th class="fw-semibold p-4 text-secondary">Município/UF</th>
          <th class="fw-semibold p-4 text-secondary">Data Solicitação</th>
          <th class="fw-semibold p-4 text-secondary">Status</th>
          <th class="fw-semibold p-4 text-secondary text-end">Ações</th>
        </tr>
      </thead>
      <tbody class="placeholder-glow">
        @for (skeleton of [1, 2, 3, 4, 5]; track skeleton) {
          <tr>
            <td class="p-4">
              <span
                class="placeholder col-12 rounded bg-secondary opacity-25"
              ></span>
            </td>
            <td class="p-4">
              <span class="placeholder col-8 rounded bg-secondary"></span>
            </td>
            <td class="p-4">
              <span
                class="placeholder col-10 rounded bg-secondary opacity-25"
              ></span>
            </td>
            <td class="p-4">
              <span class="placeholder col-12 rounded bg-secondary"></span>
            </td>
            <td class="p-4">
              <span
                class="placeholder col-12 rounded-pill bg-secondary opacity-25"
                style="height: 24px; display: block"
              ></span>
            </td>
            <td class="p-4 text-center">
              <span class="placeholder col-8 rounded bg-secondary"></span>
            </td>
          </tr>
        }
      </tbody>
    </table>
  }
</div>
